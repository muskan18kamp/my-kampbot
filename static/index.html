<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title></title>
  <style>
    :root{
      --bg:#f7f8fb;
      --card:#f7f8fb;
      --text:#1f2937;
      --muted:#6b7280;
      --accent:#2563eb;
      --bot:#e5e5e5;    /* grey for bot */
      --user:#cceeff;   /* light blue for user */
      --radius:12px;
      --shadow:0 6px 20px rgba(0,0,0,.06); 
      --fs-xxs:12px;
      --fs-xs:13px;
      --fs-sm:14px;
      --lh:1.65;
      --gap:10px;
    }
    html,body{height:100%;}
    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Inter, "Helvetica Neue", Arial;
      font-size: var(--fs-xs);
      line-height: var(--lh);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    .wrap{
      max-width: 440px;
      margin: 0px auto;
      padding: 0 12px;
    }
    .card{
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }
    .header{
      padding: 6px 10px;
      border-bottom: 1px solid #eef2f7;   
      display: flex;
      align-items: center;
      gap: 8px;
    }
    

    
    /* Container for suggestion buttons */
    .suggestion-container {
      display: flex;
      flex-wrap: wrap;
      /*flex-direction: column;*/
      align-items: flex-start;
      gap: 5px;
      margin: 5px 0;
      background: white;
    }

    .category-container {
      gap: 10px;
      margin: 5px 0;
      background: white;
    }
    /* Category buttons (first level) */
    .category-btn {
      background: #007bff;
      color: white;
      border: 1px solid #99c2ff;
      border-radius: 10px;
      padding: 6px 10px;
      cursor: pointer;
      gap: 10px;
      font-size: 11px;
      text-align: center;
      transition: background 0.2s;
      width: 140px;
      max-width: 100%;
    }
    .category-btn:hover {
      background: #cce0ff;
    }
    .category-btn.selected {
      background: #99c2ff;   
      color: white;
      font-weight: bold;
    }

    .question-container {
      display: flex;
      flex-direction: column; 
      gap: 8px;
      margin: 10px 0;
      background: white;
    }
    /* Question buttons (second level) */
    .question-btn {
      background: white;
      color: #007bff;
      border: 1px solid #d1d5db;
      border-radius: 12px;
      padding: 6px 10px;
      cursor: pointer;
      font-family: 'Calibri', sans-serif;
      font-size: 14px;
      text-align: justify;
      flex-direction: column;
      transition: background 0.2s;
      width: fit-content;
    }
    .question-btn:hover {
      background: #d1d5db;
    }

    /* User message bubble (right) */
    .user-msg {
      align-self: flex-end;
      background: var(--user);
      color: black;
      padding: 8px 10px;
      font-size: 12px;
      border: 1px solid #b3e0f2;
      border-radius: 16px;
      margin: 6px 0;
      max-width: 70%;
      word-wrap: break-word;
    }

    /* Bot message bubble (left) */
    .bot-msg {
      align-self: flex-start;
      background: var(--bot);
      color: black;
      padding: 8px 10px;
      font-size: 12px;
      border: 1px solid #d1d5db;
      border-radius: 16px;
      margin: 6px 0;
      text-align: justify;
      max-width: 70%;
      word-wrap: break-word;
    }


    /* Like/Dislike container */
    .feedback-container {
      display: flex;
      gap: 5px;
      margin: 4px 0 10px 0px;
}

    /* Like/Dislike buttons */
    .feedback-btn {
      background: #f1f0f0;
      border: 1px solid #ccc;
      border-radius: 6px;
      padding: 5px 10px;
      cursor: pointer;
      font-size: 12px;
      transition: background 0.2s;
    }
    .feedback-btn:hover {
      background: #e2e2e2;
    }

    /* WhatsApp link message */
    .whatsapp-msg {
      align-self: flex-start;
      background: #d1d5db;
      color: black;
      padding: 8px 12px;
      font-size: 12px;
      border-radius: 16px 16px 16px 0;
      margin: 6px 0;
      max-width: 70%;
      word-wrap: break-word;
    }
    .whatsapp-msg a {
      color: white;
      font-weight: bold;
      font-size: 12px;
      text-decoration: none;
    }
    .whatsapp-msg a:hover {
      text-decoration: underline;
    }

    .chat-input-container {
      position: relative;
      width: 100%;
      display: flex;
      align-items: center;
      
    }

    #user-input {
      width: 100%;
      padding: 10px 80px 13px 14px; /* right side padding extra for icons */
      border-radius: 10px;
      border: 1px solid #007bff;
      outline: none;
      font-size: 13px;
      font: Calibri;  
    }

    .input-icon {
      position: absolute;
      background: none;
      border: none;
      cursor: pointer;
      font-size: 18px;
      top: 50%;
      transform: translateY(-50%);
      padding: 5px;
    }

    #mic-btn {
      background: #f1f3f4;
      border: none;
      border-radius: 60%;
      align-items: center;
      justify-content: center;
      transition: background 0.3s, transform 0.2s;
      right: 45px; 
      color: #666;
      font-size: 0px;
      cursor: pointer;
      transition: background 0.3s, transform 0.2s;
      
    }
    .send-btn:hover, .mic-btn:hover {
      background: #e2e2e2;
    }
    
    .mic-btn.recording {
      background: #ff4d4d;  
      color: white;         
}

    #send-btn {
      right: 10px; /* send at extreme right */
      color: #007bff;
      font-size: 21px;
      background: #f1f3f4;
      
    }
    
    .dot{width:8px;height:8px;border-radius:999px;background:var(--accent);box-shadow:0 0 0 3px rgba(37,99,235,.12);}
    .title{font-weight:600;font-size: var(--fs-sm);}
    .sub{color:var(--muted);font-size: var(--fs-xxs);margin-left:auto}
    .controls{display:flex; gap:6px; margin-left:8px;}
    .ctrl-btn{
      border:1px solid #e5e7eb; background:#fff; color:#374151;
      padding:6px 8px; border-radius:8px; font-size:12px; cursor:pointer;
    }
    .ctrl-btn.active{background:#e0e7ff; border-color:#c7d2fe;}

    .chat{
      padding: 14px;
      height: 70vh;
      overflow-y: auto;
      background: linear-gradient(180deg, #fafbff 0%, #fff 100%);
      scroll-behavior: smooth;
      display: flex;
      flex-direction: column;
    }
    .chat a{ color:#1d4ed8; text-decoration: underline; word-break: break-all; }

    .msg{
      max-width: 72%;
      margin: 6px 0;
      padding: 10px 12px;
      border-radius: 12px;
      word-break: break-word;
      white-space: pre-wrap;
      text-align: justify;
      font-family: "Times New Roman", Times, serif;
      text-justify: inter-word;
      font-size: 14px;
      letter-spacing: .1px;
      box-shadow: 0 1px 6px rgba(0,0,0,.04);
    }
    .msg p{margin:0 0 8px 0;}
    .msg p:last-child{margin:0;}
    .bot{
      align-self: flex-start;
      background: var(--bot);
      border: 1px solid #d1d5db;
      color: #000;
      font-size: 13px;
      border-radius: 16px;
    }
    .user{
      align-self: flex-end;
      text-align: justify;
      background: var(--user);
      border: 1px solid #b3e0f2;
      font-size: 13.5px;
      border-radius: 16px;
    }
    .msg hr{
      border:0; border-top:1px dashed #e5e7eb; margin: 8px 0;
    }
    .msg ul, .msg ol{margin: 6px 0 6px 20px;}
    .msg li{margin: 2px 0;}

    .input{
      display:flex; gap:4px; padding: 10px; border-top:1px solid #eef2f7; background:#f7f8fb;
    }
    input[type="text"]{
      flex:1;
      font-size: var(--fs-xs);
      padding: 10px 12px;
      border: 1px solid #e5e7eb;
      border-radius: 10px;
      outline: none;
      font-family: "Times New Roman", Times, serif;
      transition: border .2s, box-shadow .2s;
    }
    input[type="text"]::placeholder{color:#9ca3af;}
    input[type="text"]:focus{border-color: var(--accent); box-shadow: 0 0 0 3px rgba(37,99,235,.12);}
    button{
      font-size: var(--fs-xs);
      padding: 8px 10px;
      border: 0;
      border-radius: 10px;
      background: var(--accent);
      color: white;
      cursor: pointer;
      box-shadow: 0 4px 14px rgba(37,99,235,.25);
    }
    button:disabled{opacity:.6;cursor:not-allowed;box-shadow:none;}
    .mic{
      background:#ffffff
 /* green*/ 
    }
    .mic.recording{
      background:#ef4444; 
    }

    .hint{margin-top:8px;color:var(--muted);font-size:var(--fs-xxs);text-align:center}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="header">
        <img src="/static/kamp-logo.png" alt="KAMP Logo" style="height:48px;">
        <span class=""></span>
        <div class="title"></div>
        <div class="sub"></div>
        <!--<div class="controls">
          <button id="ttsToggle" class="ctrl-btn" title="Toggle voice (read bot replies)">🔊 </button> -->
          <!-- WhatsApp Icon Button 
          <button id="whatsappBtn" class="ctrl-btn" title="Chat on WhatsApp">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="green" viewBox="0 0 32 32">
              <path d="M16 .063c-8.84 0-16 7.16-16 16 0 2.82.734 5.562 2.12 7.984L0 32l8.203-2.078c2.344 1.281 4.984 1.969 7.797 1.969h.004c8.84 0 16-7.16 16-16s-7.16-15.999-16-15.999zM16 29.5c-2.555 0-5.047-.676-7.223-1.957l-.516-.305-4.867 1.234 1.297-4.75-.34-.547C3.996 21.383 3.25 18.742 3.25 16c0-7.008 5.742-12.75 12.75-12.75s12.75 5.742 12.75 12.75S23.008 29.5 16 29.5zm7.066-9.277c-.383-.191-2.266-1.117-2.617-1.242-.352-.129-.609-.191-.867.191-.258.387-.996 1.242-1.223 1.504-.223.258-.441.289-.824.098-.383-.191-1.617-.596-3.082-1.902-1.141-1.016-1.91-2.27-2.137-2.652-.223-.383-.023-.59.168-.777.172-.172.383-.449.574-.672.191-.223.258-.383.383-.637.129-.258.066-.48-.031-.672-.098-.191-.867-2.094-1.188-2.867-.313-.75-.633-.645-.867-.656-.223-.012-.48-.012-.738-.012s-.672.098-1.023.48c-.352.387-1.344 1.312-1.344 3.199s1.375 3.707 1.566 3.961c.191.258 2.699 4.125 6.539 5.781.914.395 1.625.629 2.18.805.914.289 1.746.25 2.402.152.734-.109 2.266-.922 2.582-1.816.32-.891.32-1.652.223-1.816-.094-.16-.348-.258-.73-.449z"/>
            </svg>
          </button> -->
        </div>
      </div>

      <div id="chat" class="chat"></div>

      <!--<div id="suggestions" class="suggestion-container">
        <button class="suggestion-btn" onclick="loadQuestions('About KAMP')">About KAMP</button>
        <button class="suggestion-btn" onclick="loadQuestions('About NASTA')">About NASTA</button>
        <button class="suggestion-btn" onclick="loadQuestions('Registration and Payment')">Registration and Payment</button>
        <button class="suggestion-btn" onclick="loadQuestions('Check Results')">Check Results</button>
        <button class="suggestion-btn" onclick="loadQuestions('Awards and Certificates')">Awards and Certificates</button>
        <button class="suggestion-btn" onclick="loadQuestions('About COE')">About COE</button>
        <button class="suggestion-btn" onclick="loadQuestions('AI & Robotics Lab')">AI & Robotics Lab</button>
        <button class="suggestion-btn" onclick="loadQuestions('Workshops')">Workshops</button>
        <button class="suggestion-btn" onclick="loadQuestions('About CPD')">About CPD</button>
        <button class="suggestion-btn" onclick="loadQuestions('Scientific Exursions')">Scientific Exursions</button>
      </div>
    </div>-->

    

  <script>
    

    // ✅ Predefined Q&A
    const qaData = {
      "About KAMP": {
        "What is KAMP?": 
          "Knowledge and Awareness Mapping Platform “KAMP” is an Initiative and Knowledge Alliance of the Council of Scientific & Industrial Research (CSIR) - National Institute of Science Communication and Policy Research (NIScPR) and industrial partner M/S Nysa Communications Pvt. Ltd. (NCPL), Noida. \nKAMP identify student skills and hidden talents essential for excelling in professional life through an assessment called the National Assessment of Scientific Temperament & Aptitude (NASTA). \n\nKAMP has been appreciated and implemented by several boards/agencies like Secondary Education State Boards, Central Board of Secondary Education (CBSE), Kendriya Vidyalayas, Jawahar Navodaya Vidyalayas (JNV), and Eklavya Model Residential Schools (NESTS) and Uttar Pradesh Madhyamik Shiksha Parishad (UPMSP).",
        "What is the main motive of Kamp?":
          "The main motive of KAMP (Knowledge and Awareness Mapping Platform) is to identify and nurture the scientific temper, creativity, and analytical skills of students from an early age. KAMP aims to map and enhance students’ knowledge, awareness, and aptitude in science and technology, thereby preparing them for future challenges. It also supports policymakers and educators by providing insights through research and assessments, fostering innovation, and promoting a culture of scientific thinking.",
        "How can I download the KAMP School Kit?": 
          "Schools can download the School Kit from the Downloads section. Please follow these steps:\n1. Visit KAMP website at www.kamp.org.in\n2. Navigate to the home page menu and click on 'Media Gallery.'\n3. Click on 'Downloads' to access the school kit which contains KAMP Brochure, CoE Brochure, CoE Membership Form, KAMP Implementation Guidelines, Syllabus, Student Registration Sheet for School, and Newsletter.",
        "What is the eligibility criteria for registering in KAMP?": 
          "Schools from the following boards can register in KAMP- NASTA 2024:\n- Central Board of Secondary Education (CBSE)\n- Indian Certificate of Secondary Education (ICSE)\n- State Boards\n- International Boards\n- Eklavya Model Residential School (EMRS)\n- Uttar Pradesh Madhyamik Shiksha Parishad (UPMSP)\n- Jawahar Navodaya Vidyalaya (JNV)\n- Kendriya Vidyalaya Sangathan (KVS)\nEligibility Criteria for Students: All students from classes 3rd to 12th are eligible to register for KAMP - NASTA.\nFor registration, please visit https://www.kamp.org.in/student-registration-and-login.",
        "Can schools outside India participate in KAMP? How can students studying abroad register for KAMP?": 
          "Yes, schools outside India can participate in KAMP. We welcome international schools to join and benefit from our program.\n\nTo initiate the registration process, please share the following school details along with the school board information with us at projectdirector@kamp.org.in. We will contact the school to inform them about the registration process.\n\nRequired Details:\n- Country\n- City\n- School Name\n- School Address\n- Principal's Name\n- Principal's Email Address\n- Principal's Phone\n- Nodal Officer (SPOC) Name\n- Nodal Officer's Email Address\n- Nodal Officer's Phone\n- Number of students from classes 3rd - 12th\n- School Board\n\nContact Details:\nEmail: info@kamp.org.in\nPhone: (+91) 9599576228, (+91) 9289359694\nWhatsApp: (+91) 9717435123"
      },
      "About NASTA": {
        "What is NASTA?": 
          "NASTA stands for National Assessment for Scientific Temperament & Aptitude. \n\nNASTA includes a range of questions designed to measure cognitive abilities, problem-solving skills, critical thinking, and scientific knowledge through 8 defined parameters. \nThese parameters are structured to provide a comprehensive understanding of a student's strengths and areas for improvement. \nNASTA has been designed and aligned with the National Education Policy 2020,' to emphasise on the development of the creative potential of each student. \nNASTA is aimed at students across various educational levels. It provides insights that are valuable for students, educators, and parents, supporting them make informed decisions about future educational and career paths.",
        "What are the features of NASTA?":
          "Comprehensive Assessment:\nNASTA evaluates 8 unique skills, including cognitive abilities, problem-solving, critical thinking, and scientific knowledge, providing a holistic view of a student's capabilities.\n\nStandardized Testing:\nThe assessment is standardized, ensuring that all students are evaluated on a common scale, which makes the results reliable and comparable across different demographics.\n\nAge-Appropriate Content:\nThe test content is tailored to be appropriate for various educational levels, ensuring relevance and accuracy in measuring students’ skills at different stages of their academic journey.\n\nDetailed Reporting:\nParticipants receive detailed reports highlighting their strengths and areas for improvement.\n\nAccessibility:\nThe assessment is designed to be accessible, often available both online and in school, making it convenient for students from various regions and backgrounds to participate.\n\nSupport Resources:\nPost-assessment, KAMP provides guidance for students, educators, and parents to help interpret the results and plan the next steps in educational and career development.",
        "What are the benefits of NASTA?":
          "Identifying Hidden Talents:\nNASTA helps in uncovering students' latent skills and talents that might not be evident through regular academic assessments, enabling them to pursue appropriate educational and career paths.\n\nPersonalized Learning:\nThe detailed feedback from NASTA allows teachers inculcate the teaching of the 8 skills in teaching routines, thereby enhancing learning outcomes.\n\nEnhanced Career Guidance:\nBy understanding their strengths and weaknesses, students can make informed decisions about their future careers, choosing paths that align with their abilities and interests.\n\nImproved Academic Performance:\nAwareness of specific areas for improvement enables students to focus their efforts more effectively, leading to better academic performance.\n\nBuilding Confidence:\nKnowing their strengths can boost students' confidence, motivating them to pursue their interests with greater enthusiasm and commitment.\n\nHolistic Development:\nNASTA promotes not just academic growth but also the development of critical life skills such as problem-solving, critical thinking, and scientific reasoning, which are essential for overall personal development.\n\nSupport for Educators and Parents:\nThe assessment provides valuable insights for educators and parents, helping them support their students' growth more effectively. They may use the detailed reports to guide students in their educational journeys.",
        "What is the syllabus for KAMP-NASTA?": 
          "The syllabus for KAMP-NASTA for classes 3rd to 12th is available on the KAMP website. You can find it in the 'Downloads' section of the website.\n\nThe syllabus is also available under the school and student login portals.",
        "What is the last date of registration for NASTA?":
          "The last date of registration for NASTA is 31st October, 2025.",
        "What is the exam date for KAMP-NASTA?": 
          "The tentative date for NASTA 2024 is 7th December 2024.",
        "How should I prepare for NASTA?": 
          "There is no need for extra preparation for the NASTA Assessment, as the questions are based on the syllabus you are already studying in your classes.\n\nPreparation Tips:\n- **Study Regularly:** Continue with your regular studies and focus on understanding the concepts taught in your classes.\n- **Practice with Sample Papers:** KAMP provides sample papers to help you practice and get familiar with the types of questions that will be asked in the assessment.\n- **Take the Mock Test:** One month prior to the assessment, a mock test will be available. This will help you understand the assessment pattern and improve your time management skills.\n\nBy staying consistent with your studies and utilizing the resources provided by KAMP, you will be well-prepared for the NASTA Assessment.",
        "Where is my exam center for the NASTA assessment?": 
          "Your exam center for the NASTA assessment will be your respective school premises. All students will take the assessment at their school under the supervision of school authorities. Please ensure you are present at your school on the designated assessment day as per the schedule provided by your school administration.",
        "Where can I download sample papers for the NASTA assessment?": 
          "You can download sample papers for classes 3rd to 12th from the KAMP website.\n\nHere’s how:\n1. **Login to the School and Student Portal:**\n   - **For Students:** Visit Student Portal and log in using your enrollment number and date of birth (DOB).\n   - **For Schools:** Visit School Portal and log in using the User ID and Password.\n2. **Download Sample Papers:**\n   Once logged in, you can access and download the sample papers directly from the portal. These sample papers are designed to help you prepare effectively for the NASTA assessment.",
        "In which language will the NASTA assessment be conducted?": 
          "The NASTA assessment is conducted in English for CBSE, KV, and JNV schools. However, for government schools, assessments can be provided in regional languages upon request directly from the department. This facility may be exclusively available for government schools that request it.",
        "How can I find out the mode of the NASTA assessment?": 
          "To determine the mode of the NASTA assessment, follow these steps:\n\n**Contact Your School:**\n- The mode of assessment (online or offline) will be selected by your school.\n- Your school will inform you about the mode of assessment they have chosen.\n\nBy contacting your school, you can clarify and confirm the mode of assessment for the NASTA exam. This ensures that you are prepared accordingly for the assessment. Subsequently, you can also contact the KAMP support team to verify the mode of assessment in your school.",
        "When will we receive the exam materials if the assessment is conducted offline?": 
          "If the assessment is conducted offline, the exam materials will be sent to the schools approximately 3 to 4 days before the assessment date. Schools are requested not to open the materials before the assessment day. The materials should be opened and distributed to students only on the day of the assessment to ensure the integrity and fairness of the process.",
        "How can I take the Online Mock Test? Can I still take it if my school has chosen the offline mode for NASTA?": 
          "The online mock test will be available on the KAMP website one month prior to the assessment. All students can participate in the mock test by using their enrollment number and date of birth (DOB).\n\nEven if your school has chosen the offline mode for NASTA, you are still eligible to take the online mock test.",
        "What are the requirements for conducting NASTA online in schools?": 
          "To conduct NASTA online in schools, the following requirements must be met:\n- All students must take the online exam from the school premises using laptops / desktop / tablets.\n- Ensure that there are enough devices for all students, and that these devices are in good working condition with the necessary software installed.\n- Maintain reliable internet connectivity throughout the duration of the assessment to prevent any disruptions.\n- Provide a secure and quiet environment for students to take the online assessment without distractions.\n- Have technical support available during the assessment to address any issues that may arise with devices, connectivity, or software.\n- Schools should have access to and be familiar with the designated online assessment platform provided by KAMP. Ensure familiarity with the platform's features and functionalities.\n- Ensure accurate attendance of students on the day of the assessment.",
        "What is the Learning Environment Survey (LES) and how do I complete it?":
          "The Learning Environment Survey (LES) captures student learning in different environments. Its insights inform policymakers and schools for improved decision-making and educational strategies.\n- School LES Link: Click here https://kamp.org.in/schoollesform to complete the survey by providing detailed information about your school's learning environment and infrastructure.\n- Students LES Link: Click here https://kamp.org.in/lesform to complete the survey based on your learning experience and environment."
      },
      "Registration & Payment": {
        "How do I register for KAMP": 
          "Registrations in KAMP occur only after the school is registered with KAMP. Once the school has completed its registration, students can register either individually or through their school.\n\nSchool Registrations:\n- Click on https://kamp.org.in/school-registration-and-login/cbse to register your school in KAMP.\n- Fill out the necessary details in the form and complete the school registration.\n**Note: If your school is already registered with KAMP, please do not register again.**\n\nStudent Registrations:\n- Bulk Registration: Schools can bulk register through the login portal by uploading the student data through an excel file provided in the login.\n- Individual Registration: Schools can share the individual registration link with students for direct registration on KAMP. The direct registration link is available on the dashboard under the school login.\n- Self-Registration: Students can go to https://kamp.org.in/student-registration-and-login select their state, city, and school name, fill out the necessary information, pay the fees, and complete the enrollment.",
        "What is the registration fee?": 
          "Registration Fee:\n- Rs. 400/- per student (for Self-Financed Schools)\n- Rs. 400/- per student (for Kendriya Vidyalaya and Jawahar Navodaya Vidyalaya)",
        "Why should I register for KAMP?": 
          "Benefits and Outcomes for Schools registering in KAMP:\n- Schools can become part of the KAMP Centre of Excellence (CoE) and have the opportunity to establish Robotics and AI lab. (**T & C applied. Please see How to Apply for CoE in FAQ list).\n- Participate in various online workshops, CPD Program (Teacher’s Training) in various eminent CSIR Labs and other research organizations.\n- Foster scientific thinking and analytical skills among students, encouraging a deeper understanding of scientific concepts.\n- National recognition through awards and certificates.\n- Receive a detailed analysis of students' strengths and areas for improvement.\n- Access to sample papers and mock tests for thorough preparation.\n\nBenefits for Students in KAMP:\n- Receive a Student Assessment Report highlighting hidden talents/skills and providing improvement recommendations.\n- Awards and Certificates for outstanding achievers.\n- Engage in various activities for a year: online fortnightly workshops, scientific excursions to eminent CSIR labs, ISRO and other research organizations.\n- Participation in National Level events, workshops, and competitions.\n- Access to various knowledge resources by CSIR-NIScPR.\n- Opportunity to learn Robotics and AI as part of curriculum (**Applicable only for CoE nominated schools).",
        "Do I need to register for KAMP every year?": 
          "Schools do not need to register every year. Once registered, schools remain enrolled in the KAMP program.\n\nStudents must register each year to participate in KAMP.\n\nThis ensures that each year's participants are accurately recorded and receive the necessary materials and support.",
        "How will I receive my login details after registration?": 
          "School Login Details:\n- The username and password for the school portal will be sent to the registered email address and mobile number after registration.\n\nStudent Login Details:\n- Once the school completes the student registration, a list of enrollment numbers is made available in the school portal. The school is requested to share the login details (enrollment number and date of birth) with the registered students.\n- If a student registers directly through the website or provided link, the enrollment number will be sent via SMS, WhatsApp, or email to the details provided during registration.",
        "How can I retrieve my login details if I forget them?": 
          "If you forget your login details, you can retrieve them by following these steps:\n1. Visit the KAMP School/Student Login Page.\n2. Click on 'Forgot Password'.\n   - For School: Click on 'Forget Username/Forget Password'.\n   - For Students: Click on 'Forget Enrolment No'.\n3. Follow the instructions.\n4. Fill in the appropriate information shown during the retrieval process.\n5. Your login credentials will be shared on the registered mobile number and email.\n\n**Note:** Students can also get the Enrolment Number from the School, which can be downloaded by the school from their portal.\n\nIf you encounter any issues or need further assistance, please contact KAMP support at:\nEmail: info@kamp.org.in\nPhone: (+91) 9599576228, (+91) 9289359694\nWhatsApp: (+91) 9717435123\n\nOur support team will help you recover your login credentials.",
        "What should I do if my payment was deducted but I did not receive my enrollment number?": 
          "If your payment was deducted but you did not receive your enrollment number, please contact us at:\nPhone: (+91) 9599576228, (+91) 9289359694\nWhatsApp: (+91) 9717435123\nEmail: info@kamp.org.in\n\nWhen contacting, please include the following details:\n- Student's name\n- Father's name\n- Registered mobile number\n- School name\n- State\n- Payment mode with transaction ID / Screenshot of payment / Screenshot of bank statement\n\nOur team will get back to you promptly and send you the enrollment number. Make sure to share all necessary details to expedite the process.",
        "What should I do if the registration fee was deducted twice from my bank account but I received confirmation for only one transaction?": 
          "If the registration fee was deducted twice from your bank account but you received confirmation for only one transaction, please contact us at:\nPhone: (+91) 9599576228, (+91) 9289359694\nWhatsApp: (+91) 9717435123\nEmail: info@kamp.org.in\n\nPlease provide the following information via email:\n- Payment mode with transaction ID / Screenshot of payment / Screenshot of bank statement\n- Student's name\n- Registered mobile number\n- Account beneficiary name (from which account the payment was made)\n\nWithin 24 to 48 hours, we will initiate the refund process for the duplicate payment back to your original account. The payment will be reflected within 7-10 working days after initiation, and the refund details will be provided by the KAMP support team."
      },
      "Check Results": {
        "How can I view the results and achievers of NASTA?": 
          "For Schools and Students:\nThe results of NASTA can be viewed through the student and school login portals. The achievers of NASTA will also be listed on the KAMP website. You can find this information on the homepage under the 'Results' menu."
      },
      "Awards & Certificates": {
        "When will I receive my award and certificate?": 
          "Awards and certificates for NASTA achievers are dispatched in the month of April. Participants can download their e-certificates through the school/student login portal using their login credentials. This allows achievers to access their certificates promptly. Mementoes/Medals/Certificates will be sent out to the schools accordingly in March - April.",
        "When will the KAMP Pratibhaotsav (Annual Award Ceremony) be held?": 
          "The KAMP Pratibhaotsav, the Annual Award Ceremony, will tentatively be organized in the month of September. Please stay tuned for further announcements and updates regarding the exact date and details of the ceremony."
      },
      "About COE": {
        "What is COE?": 
          "KAMP - Centre of Excellence (CoE) stands as a dedicated program to fostering the development of a vibrant learning community among students, teachers, and schools across India. KAMP - Centre of Excellence (CoE) strives to create an environment that inspires and nurtures the inquisitive minds of students, providing them with opportunities to explore and engage in learning and discovery.",
        "What activities are included under the Centre of Excellence?": 
          "The Centre of Excellence (CoE) is a range of activities designed to enhance students' scientific and analytical skills. These activities include:\n- Robotics and AI Labs: Establishment of Robotics and Artificial Intelligence (AI) labs within the school premises for hands-on learning and innovation.\n- Fortnightly Online Workshops: Workshops/sessions conducted by experts in various fields of science, technology, innovation, and academic development on Thursday at 4.00 pm.\n- Competitions and Challenges: Participation in national and international competitions and challenges to foster a spirit of innovation and competitiveness.\n- Scientific Excursions: Opportunities to visit prestigious research labs and institutions like CSIR labs, ISRO, and other scientific organizations.\n- Continuous Professional Development (CPD) for Teachers: Regular CPD programs for teachers to enhance their teaching skills and stay updated with the latest educational trends.\n- Access to Knowledge Resources: Availability of a wide range of knowledge resources, including research papers, articles, and study materials.\n- NASTA Assessment: Comprehensive assessment reports and feedback to help students identify their strengths and areas for improvement.\n\nBy engaging in these activities, students and teachers can significantly enhance their scientific knowledge and practical skills, fostering a conducive environment for innovation and excellence in education.",
        "How can I nominate my school under CoE?": 
          "To nominate your school for Centre of Excellence (CoE) with KAMP, please follow these steps:\n\n1. Register all students of your school from classes 3rd to 12th on the KAMP platform.\n2. Infrastructure Requirements:\n   - Ensure the school has a designated classroom or computer lab.\n   - Arrange necessary infrastructure, including furniture and IT equipment such as computers/laptops, projectors, or monitor screens.\n3. Complete CoE Membership Form: Fill out the CoE Membership Form for Schools with all required details.\n4. Principal's Authorization: The principal should sign the completed form and affix the school stamp for authentication.\n5. Submit the Form: Email the completed CoE Membership Form to coe@kamp.org.in.\n\nFollowing these steps ensures that your school's nomination for CoE Membership is processed smoothly and efficiently. For any further assistance or queries, please contact us at the provided email address.",
        "What is the difference between a CoE school and a Non – CoE school registered under KAMP?": 
          "Registered CoE schools have access to a variety of post-NASTA activities, including:\n- AI Coding & Robotics Lab Installation\n- Fortnightly Online Workshops\n- Scientific Excursions For Students (Visits to ISRO & CSIR Labs)\n- Continuous Professional Development Program for Teachers\n- Annual Events & Competition\n\nNon-registered schools have access to:\n- Fortnightly Workshops (For all the registered students from classes 3rd to 12th.)\n- Scientific Excursion (The school can nominate up to 5 students for the planned visit.) **This excursion is subject to seat availability.",
        "I wish to register all the students from classes 3rd -12th in KAMP. But still the terms of CoE are not met. Can my school still be eligible to be nominated for CoE program?": 
          "If your school wishes to register all students from classes 3rd to 12th in KAMP but does not fully meet the terms of the Centre of Excellence (CoE) program, it may still be possible to become eligible. Here's how:\n\n- Ensure that all students from classes 3rd to 12th are registered on the KAMP platform.\n- Make efforts to upgrade or enhance the necessary facilities to meet the CoE requirements.\n- Communicate your school’s intent and commitment to fulfilling the CoE requirements in the near future. Highlight any ongoing efforts or plans to improve the infrastructure.\n\nFor assistance or to discuss your school’s eligibility and plans for meeting the CoE terms, please contact KAMP at:\n- Email: coe@kamp.org.in\n- Phone: (+91) 9599576228, (+91) 9289359694\n\nWhile your school may not currently meet all the terms of the CoE program, demonstrating a strong commitment and clear plan for future compliance can help your school become eligible for nomination. Contact KAMP for further guidance and support in this process.",
        "How will I get the CoE signage/board for my school?": 
          "The assigned Relationship Manager will provide a digital sample featuring the School Name and logo, demonstrating how the board will appear. The school can then proceed to have it printed. Additionally, the CoE board guidelines PDF will be shared with the Principal or Nodal Officer."
      },
      "AI & Robotics Lab": {
        "What are the components of AI & Robotics Lab?": 
          "To know the components and schedule a demo session of the AI & Robotics Lab in your school, kindly reach us at:\n- Email: coe@kamp.org.in\n- Phone: (+91) 9599576228, (+91) 9289359694",
        "Does the school have to pay any additional fees for the AI Robotics Lab?": 
          "No, the school does not have to pay any additional fees for the installation of AI Robotics Lab. The installation of the AI Robotics Lab is part of the benefits provided under the Centre of Excellence (CoE) program by KAMP. If your school is nominated and meets the necessary requirements, the lab will be installed at no extra cost to the school.",
        "There are some components missing in AI & Robotics material received. What should I do?": 
          "If you find that any components are missing from your Robotics and AI Kit, please contact us at +91 8130388123 or your assigned KAMP relationship manager.\nYou need to provide your school information and the missing components during the call:\n- Your school name\n- Contact person’s name\n- List of missing components\n- Any other relevant information\nThe concerned person will assist you in resolving the issue and provide further instructions.",
        "I need extra consumables for my AI & Robotics Lab. How to place the order?": 
          "If your school needs extra consumables for the Robotics & AI Lab, you can place an order by following these steps:\n- List the details of the extra consumables needed, including quantities and any specific requirements.\n- Address your email to shambhavi@kamp.org.in\n- Include the list of required consumables in the email body.\n- Provide your school name and contact information for reference\n- After sending the email, please wait for a confirmation response with further instructions or details about your order.",
        "Some components of Robotics & AI Lab are malfunctioning. What should I do?": 
          "If any components of your Robotics & AI Lab are malfunctioning, you can directly register your complaint at shambhavi@kamp.org.in or contact us at +91 8130388123 including the list of malfunctioning components and a detailed description of the issues. Provide your school name and contact information for reference.\nAfter registering your complaint, KAMP relationship manager will assist you with the desired assistance.",
        "Do we need to purchase anything for the AI & Robotics Lab?": 
          "No, the school does not have to purchase anything for the Robotics & AI Lab. The infrastructure requirements should be met by the school before applying for the CoE program.",
        "Can we get the AI Lab installed now and pay later?": 
          "According to the Centre of Excellence (CoE) guidelines, KAMP will initiate the setup of the Robotics & AI Lab once 75% of the required registrations and payments are received. The lab will be fully installed, and teacher training will be provided upon reaching 100% of the required registrations and payment completion.\nFor more information kindly reach us at:\n- Email: coe@kamp.org.in\n- Phone: (+91) 9599576228, (+91) 9289359694",
        "We've made half payment; can we still get the Robotics & AI Lab installed?": 
          "The setup of the Robotics & AI Lab begins once 75% of the required registrations and fees are completed. Necessary hardware and robotics kits are delivered after 75% of the fees are realized. The full installation of the lab and teacher training will commence upon reaching 100% of the required registrations and fees.",
        "How many teachers are required for AI Lab Teacher Training?": 
          "The school must assign at least one dedicated teacher or facilitator to manage and implement student activities within the Robotics & AI Lab. This teacher will be responsible for overseeing the lab, guiding students through projects, and ensuring the proper use and maintenance of the equipment. Additionally, having more than one teacher trained can be beneficial to ensure continuous support and smooth operation of the lab activities. Assigning a dedicated team of teachers will help maximize the benefits of the lab and provide a robust learning environment for the students.",
        "Do we need to hire a new person for the AI Lab, or is our current computer teacher sufficient?": 
          "The decision is up to the school. If you already have a computer teacher capable of overseeing the activities in the Robotics & AI Lab, they can generally manage the lab effectively. However, if you do not have a suitable facilitator with the necessary skills and experience, you may consider hiring a new person specifically for this role. Ensuring the lab is supervised by someone with appropriate knowledge and expertise is crucial for the successful implementation and operation of lab activities.",
        "Can all school teachers attend the AI Lab Teacher Training?": 
          "The decision is up to the school. Generally, the teacher assigned to oversee the Robotics & AI Lab activities is required to attend the training. This ensures they gain comprehensive knowledge of the lab and can effectively assist the students. However, schools are welcome to have additional teachers attend the training to broaden their understanding and potentially integrate AI concepts into their teaching practices.",
        "How is the AI & Robotics Lab different from the ATAL Lab? Can we have both installed together?": 
          "Yes, you can have both the ATAL Lab and the AI & Robotics Lab installed together. The Robotics & AI Lab is designed in accordance with the New Education Policy 2022, which mandates the introduction of artificial intelligence, coding, and analytical thinking in schools to promote skill education from the schooling level. This lab focuses on modern technologies and skills, complementing the ATAL Lab's existing offerings. Having both labs installed together will enhance your school's capability to provide comprehensive education in both traditional and modern technological skills.",
        "Will we receive any textbook for the AI & Robotics Lab?": 
          "We provide a Learning Management System (LMS) for completing the curriculum of Robotics & AI Lab. The LMS contains class-wise sessions and a detailed curriculum, making it easy for both teachers and students to access and learn from. This ensures that all necessary materials are readily available online.",
        "How to participate in an Annual Robotics event?": 
          "To participate in the Annual Robotics event, schools and students will receive communication via email and WhatsApp. Students interested in participating should inform their school. The school will then coordinate with us by sharing the necessary enrollment details.",
        "Is there any certificate provided to the teacher after AI & Robotics training?": 
          "Yes, teachers may receive an e-certificate upon completion of the AI & Robotics training."
      },
      "Workshops": {
        "How to Participate in Online Workshops?": 
          "To participate in the online fortnightly workshops, follow these steps:\n  Visit the KAMP website https://kamp.org.in/student-registration-and-login\n  Use your KAMP enrolment number and date of birth (DOB) to log in to your account.\n  Once logged in, you will find the joining link for the online workshops available in your student portal on the dashboard.\n  The workshops are held every fortnightly Thursday at 4:00 PM. Use the link provided in your portal to join the session.\nBy following these steps, you can easily participate in the online fortnightly workshops and benefit from the valuable knowledge and insights shared during these sessions.\nNote: The joining links of each fortnightly workshop is shared with the School’s Registered number under KAMP on WhatsApp and email. The schools are requested to share the links and motivate the registered students to participate in all the Online Fortnightly Workshops held Thursdays at 4:00 pm. Please see the schedule of Workshops under “Important Dates” on KAMP website.",
        "Who can attend the workshops? Do students need to register for them?": 
          "Students from classes 3rd to 12th who are registered under KAMP, can participate in the online workshops without needing to register separately. They can access the workshops through their login portal using their KAMP enrolment number and date of birth. This allows for easy participation in the sessions held every Thursday at 4:00 PM.",
        "Can parents/teachers also attend the workshops?": 
          "Yes, parents and teachers can also attend the online workshops alongside students. The workshops are open to anyone interested in the topics covered.",
        "Do we need to pay to attend these online workshops?": 
          "No, there is no fee required to attend the online workshops conducted by KAMP. They are accessible free of charge to students, parents, and teachers who wish to participate and benefit from the sessions.",
        "How can I get access to the previous Recordings of the Workshops?": 
          "All the recordings of previous workshops are available under the student and school login portals. You can access them using your KAMP enrolment number and date of birth. This allows you to revisit or catch up on past sessions at your convenience."
      },
      "About CPD": {
        "What is CPD?": 
          "Continuous Professional Development (CPD) program for Teachers in association with Central Board of Secondary Education (CBSE) is being organized by KAMP. These CPD programs are planned & facilitated by CSIR labs/other research institutions/labs all over India. This initiative aims to enhance the professional skills and knowledge of educators, ensuring they stay updated with the latest educational practices and scientific advancements.",
        "How to participate in CPD?": 
          "If school teachers wish to participate in upcoming CPD programs organized by KAMP, they can nominate their teachers for the CPD program by contacting us at:\nEmail: coe@kamp.org.in\nPhone: (+91) 9599576228, (+91) 9289359694\nWhatsapp: (+91) 9717435123",
        "What is the difference between CPD and the teacher training program organized by KAMP?": 
          "There is no difference between CPD (Continuous Professional Development) and the teacher training program organized by KAMP. Both terminologies refer to programs designed to enhance the professional skills, knowledge, and effectiveness of teachers. These programs aim to provide ongoing learning opportunities that contribute to the continuous improvement of teaching practices and educational outcomes.",
        "How will I receive my participation certificate for the CPD program?": 
          "The e-participation certificate for the CPD program will be sent to the registered email ID provided during your participation. Make sure to provide a valid and accurate email address to ensure timely receipt of your certificate. If you have any questions or concerns regarding the certificate, you can contact the KAMP support team for assistance.",
        "Who will cover the traveling expenses of the teacher for the CPD program?": 
          "The traveling expenses for the CPD program will be covered by the participating teacher or school. KAMP does not sponsor any financial support or reimbursements for traveling charges incurred by teachers attending CPD programs. Therefore, it is the responsibility of the teacher or the school to manage and cover these expenses accordingly.",
        "Can We Attend the CPD Program Online if it is far from our location?": 
          "The schedule of online CPD programs are available under CPD page or the school logins. Consequently, KAMP will send the invitation on registered mobile number to all the registered schools under KAMP through WhatsApp and email."
      },
      "Scientific Exursions": {
        "How to participate in Scientific Excursions?": 
          "If you wish to participate in any upcoming excursion, please follow these steps:\nContact your school teacher (KAMP Nodal Officer) or Principal:\n  Inform your teacher of your interest in participating in a scientific excursion\n  Your teacher will then nominate you for the excursion. Your school will need to reach out to us at the below email or phone to complete the nomination process.\n  Email: coe@kamp.org.in\n  Phone: (+91) 9599576228, (+91) 9289359694\n  Whatsapp: (+91) 9717435123\nPlease Note: Participation will be confirmed based on seat availability.",
        "Who can participate in Scientific Excursions?": 
          "KAMP is providing an opportunity for all registered students to participate in upcoming scientific excursions. However, all NASTA achievers are eligible to participate in these excursions.",
        "Can all students of the school attend the Science Excursion? Is it free for all students?": 
          "KAMP provides opportunities for scientific excursions to all students of the school from classes 3rd - 12th. However, only the National and State Achievers are eligible for one sponsored excursion within an academic session. Generally, scientific excursions are self-sponsored, and schools/parents need to cover all the traveling/accommodation expenses.",
        "What are the general guidelines to be followed during Scientific Excursions?": 
          "The general guidelines to be followed during Scientific Excursions are as follows:\n\nEligibility Criteria: Students enrolled in KAMP – NASTA are eligible to participate in the Scientific Excursions.\nNomination Process: The nominations for the excursions will be done by the participating schools only. Schools are responsible for nominating interested students from their school/institution for the excursions.\nNomination Procedure: Schools can nominate the details of the interested students through the school login panel under the Excursions section.\nContact for Nomination: Students interested in participating in the Scientific Excursions should get in touch with their respective school teacher or KAMP-Nodal Officer to express their interest and get nominated.\nTravel and Logistics: Travel and logistics will be self-sponsored by the respective school/parent.\nSafety Protocols: For the safety of students during the Scientific Excursions, the following safety protocols will be strictly adhered to:\n- The KAMP-nodal officer or at least one teacher from the participating school will accompany the students throughout the entire duration of the excursion.\n- Participants will be asked to provide any relevant medical information or special health considerations.\n- Parents or guardians must provide written consent prior to participation.\n- All participating students must bring a valid Photo I.D. for attendance and entry.\nDisclaimer: The Scientific Excursion organized by KAMP is exclusively for participants of KAMP – NASTA, and there is no additional fee imposed by KAMP or the prestigious labs/research organizations involved. KAMP does not authorize any party to collect fees for participation. Any updates will be communicated only through official KAMP channels and website.",
        "I am a National/State Achiever. I am eligible for a sponsored Scientific Excursion. How can I participate?": 
          "Yes, you are eligible for one scientific excursion in an academic session. For the planned sponsored Scientific Excursion for the NASTA achievers, details will be communicated directly to the School KAMP Nodal Officer or Principal via phone call, email, and WhatsApp. It is essential that schools promptly relay this information to parents or guardians of participating students.\n\nSchools are required to collect written consent from parents or guardians regarding their child's participation in the upcoming excursion.\n\nThis process ensures transparency and clear communication, allowing for informed decisions by parents and guardians regarding student participation in these enriching Scientific Excursions organized by KAMP."
      }
    };

    // ✅ Helper Functions
    function addBotMessage(text) {
      const msg = document.createElement("div");
      msg.className = "bot-msg";
      msg.innerText = text;
      chat.appendChild(msg);
      chat.scrollTop = chat.scrollHeight;
      
    }

    function addUserMessage(text) {
      const msg = document.createElement("div");
      msg.className = "user-msg";
      msg.innerText = text;
      chat.appendChild(msg);
      chat.scrollTop = chat.scrollHeight;
    }

    // ✅ Load Categories
    function loadCategories() {
      const container = document.createElement("div");
      container.classList.add("category-container");

      Object.keys(qaData).forEach(cat => {
        const btn = document.createElement("button");
        btn.className = "category-btn";
        btn.innerText = cat;
        btn.onclick = () => loadQuestions(cat);
        container.appendChild(btn);

        btn.addEventListener("click", () => {
          // sabse pehle sab buttons se selected class hata do 
          document.querySelectorAll(".category-btn").forEach(b => b.classList.remove("selected"));

          // fir current button ko selected mark karo
          btn.classList.add("selected");

          // yahan pe apna existing code (jo question send karta hai) use kar lo
          sendCategoryQuestion(btn.innerText);
        });

      });

      chat.appendChild(container);

  }

    // ✅ Load Questions
    function loadQuestions(category) {
      addBotMessage(`Here are some questions about ${category} :`);

      const container = document.createElement("div");
      container.classList.add("question-container");

      Object.keys(qaData[category]).forEach(q => {
        const btn = document.createElement("button");
        btn.className = "question-btn";
        btn.innerText = q;
        btn.onclick = () => showAnswer(category, q);
        container.appendChild(btn);
      });

      chat.appendChild(container);
      chat.scrollTop = chat.scrollHeight;
      
    }


    // ✅ Show Answer
    function showAnswer(category, question) {
      addUserMessage(question);
      addBotMessage(qaData[category][question]);
      loadCategories(); // reload categories after answer
    }

    // ✅ Send manual message
    function sendMessage() {
      const input = document.getElementById("user-input");
      const text = input.value.trim();
      if (text === "") return;
      addUserMessage(text);
      addBotMessage("🤖 This is a static reply for now.");
      input.value = "";
    }

    // ✅ Initial Welcome + Categories
    addBotMessage("Hi! I'm KAMP Assistant. I'm here to help you. You can ask me anything regarding the KAMP website.");
    loadCategories();

    function showAnswer(category, question) {
  addUserMessage(question);

  // Bot answer
  const answer = qaData[category][question];
  addBotMessage(answer);

  // ✅ Scroll ko user question ke top pe fix karo
  const userMsgs = chat.getElementsByClassName("user-msg");
  if (userMsgs.length > 0) {
    const lastUserMsg = userMsgs[userMsgs.length - 1];
    const offsetTop = lastUserMsg.offsetTop;
    chat.scrollTo({
      top: offsetTop - 10,   // thoda margin ke liye
      behavior: "smooth"
    });
  }


  // ✅ Add Like / Dislike buttons
  const feedbackContainer = document.createElement("div");
  feedbackContainer.classList.add("feedback-container");

  const likeBtn = document.createElement("button");
  likeBtn.className = "feedback-btn";
  likeBtn.innerText = "👍 ";   
  likeBtn.onclick = () => {
    addBotMessage("Thanks for your feedback! 😊");
    feedbackContainer.remove(); // remove after click
  };

  const dislikeBtn = document.createElement("button");
  dislikeBtn.className = "feedback-btn";
  dislikeBtn.innerText = "👎 ";
  dislikeBtn.onclick = () => {
    addBotMessage("We’ll try to improve! 🙏");
    feedbackContainer.remove();
  };

  feedbackContainer.appendChild(likeBtn);
  feedbackContainer.appendChild(dislikeBtn);

  chat.appendChild(feedbackContainer);

  // ✅ WhatsApp message
  const whatsappMsg = document.createElement("div");
  whatsappMsg.className = "whatsapp-msg";
  whatsappMsg.innerHTML = `
    For more queries, ask on <a href="https://wa.me/919717435123" target="_blank">WhatsApp</a>
  `;
  chat.appendChild(whatsappMsg);
  loadCategories();

  
}

  </script>
      

      <!--<div class="input">
        <input id="msg" type="text" placeholder="Type your msg…" />
        <button id="micBtn" class="mic" title="Speak your message">🎤</button>
        <button id="send">➤</button>
      </div>
    </div>
    <div class="hint">Tips: Click links to open. Use 🎤 to speak, 🔊 to hear replies.</div>
  </div> -->
  
  

  <div class="chat-container">
    <div id="chat" class="chat-box"></div>

    <div class="chat-input-container">
      <input id="user-input" type="text" placeholder="Type your message..." />
      
      <!-- Mic button (Google style SVG) -->
      <button id="mic-btn" class="input-icon">
        <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24">
          <path d="M12 14q-1.25 0-2.125-.875T9 11V5q0-1.25.875-2.125T12 2q1.25 0 2.125.875T15 5v6q0 1.25-.875 2.125T12 14Zm-1 7v-3.1q-2.5-.35-4.125-2.125T5.25 11h1.5q0 2.35 1.6 3.975Q9.95 16.6 12.3 16.6q2.35 0 3.975-1.625Q17.9 13.35 17.9 11h1.5q0 2.5-1.625 4.275T13.65 17.9V21h-1.5Z"/>
        </svg>
      </button>

      <!-- Send button -->
      <button id="send-btn" class="input-icon">➤</button>
    </div>
  </div>

  <script>
    const chat = document.getElementById("chat");
    const input = document.getElementById("user-input");
    const sendBtn = document.getElementById("send-btn");


    //const chat = document.getElementById('chat');
    const suggestions = document.getElementById('suggestions');
    //const input = document.getElementById('msg');
    //const sendBtn = document.getElementById('send');
    const micBtn = document.getElementById('mic-btn');
    const ttsToggle = document.getElementById('ttsToggle');

    let ttsOn = false;
    let recognizing = false;
    //let recognition = null;


    // --- URL LINKIFIER (safe) ---
    // Escape HTML then convert URLs to anchors. Keeps white-space via CSS.
    function escapeHtml(str){
      return str.replace(/[&<>"']/g, s => ({
        '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'
      })[s]);
    }
    function linkify(text){
      const escaped = escapeHtml(text);
      const urlRegex = /((https?:\/\/|www\.)[^\s<]+)/gi;
      return escaped.replace(urlRegex, (match) => {
        const url = match.startsWith('http') ? match : `http://${match}`;
        return `<a href="${url}" target="_blank" rel="noopener noreferrer">${match}</a>`;
      });
    }

    function addMsg(text, who='bot'){
      const div = document.createElement('div');
      div.className = `msg ${who}`; // 'bot' (left) or 'user' (right)

      // For bot messages, linkify; for user we keep plain (or linkify both if you want)
      if(who === 'bot'){
        div.innerHTML = linkify(text);
      }else{
        // If you also want user links clickable, use linkify(text) here too.
        div.textContent = text;
      }

      chat.appendChild(div);

      if(who === 'bot'){
        chat.scrollTop = div.offsetTop - chat.offsetTop;
      }
      

      // Text-to-Speech for bot replies
      if (who === 'bot' && ttsOn && 'speechSynthesis' in window) {
        const utter = new SpeechSynthesisUtterance(div.textContent);
        utter.rate = 1.0;   // speed
        utter.pitch = 1.0;  // tone
        utter.lang = 'en-IN'; // adjust if you want Hindi 'hi-IN'
        window.speechSynthesis.cancel(); // stop any current speech
        window.speechSynthesis.speak(utter);
      }
    }

    async function send(){
      const text = input.value.trim();
      if(!text) return;
      addMsg(text, 'user');     // user bubble on RIGHT
      input.value = '';
      sendBtn.disabled = true;

      try{
        const res = await fetch('/chat', {
          method: 'POST',
          headers: {'Content-Type':'application/json'},
          body: JSON.stringify({message: text})
        });
        const data = await res.json();
        addMsg(data.response || '…', 'bot'); // bot bubble on LEFT


        // ✅ Feedback buttons
        const feedbackContainer = document.createElement("div");
        feedbackContainer.classList.add("feedback-container");

        const likeBtn = document.createElement("button");
        likeBtn.className = "feedback-btn";
        likeBtn.innerText = "👍";
        likeBtn.onclick = () => {
          addMsg("Thanks for your feedback! 😊", "bot");
          feedbackContainer.remove();
        };

        const dislikeBtn = document.createElement("button");
        dislikeBtn.className = "feedback-btn";
        dislikeBtn.innerText = "👎";
        dislikeBtn.onclick = () => {
          addMsg("We’ll try to improve! 🙏", "bot");
          feedbackContainer.remove();
        };

        feedbackContainer.appendChild(likeBtn);
        feedbackContainer.appendChild(dislikeBtn);

        chat.appendChild(feedbackContainer);

        // ✅ WhatsApp message
        const whatsappMsg = document.createElement("div");
        whatsappMsg.className = "whatsapp-msg";
        whatsappMsg.innerHTML = `
          For more queries, ask on <a href="https://wa.me/919717435123" target="_blank">WhatsApp</a>
        `;
        chat.appendChild(whatsappMsg);
        loadCategories();
        

      }catch(e){
        addMsg('Bot: Error: Could not reach server.', 'bot');
      }finally{
        sendBtn.disabled = false;
      }
    }


    sendBtn.addEventListener('click', send);
    input.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter' && !e.shiftKey){
        e.preventDefault();
        send();
      }
    });

    // --- TTS toggle ---
    /*ttsToggle.addEventListener('click', ()=>{
      ttsOn = !ttsOn;
      ttsToggle.classList.toggle('active', ttsOn);
      ttsToggle.textContent = ttsOn ? '🔊 ' : '🔊 ';
      if(!ttsOn && 'speechSynthesis' in window){
        window.speechSynthesis.cancel();
      }
    });*/

    // --- Speech Recognition (Web Speech API) ---
    /*function setupRecognition(){
      const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
      if(!SR) return null;
      const rec = new SR();
      rec.lang = 'en-IN';       // change to 'hi-IN' for Hindi
      rec.interimResults = false;
      rec.maxAlternatives = 1;

      rec.onstart = ()=>{ recognizing = true; micBtn.classList.add('recording'); micBtn.textContent = '🛑'; };
      rec.onend   = ()=>{ recognizing = false; micBtn.classList.remove('recording'); micBtn.textContent = '🎤'; };
      rec.onerror = (e)=>{ recognizing = false; micBtn.classList.remove('recording'); micBtn.textContent = '🎤'; };

      rec.onresult = (e)=>{
        const transcript = (e.results[0] && e.results[0][0]) ? e.results[0][0].transcript : '';
        if(transcript){
          input.value = transcript;
          send(); // auto-send after capture
        }
      };
      return rec;
    }

    if('webkitSpeechRecognition' in window || 'SpeechRecognition' in window){
      recognition = setupRecognition();
      micBtn.addEventListener('click', ()=>{
        if(!recognition) return;
        if(recognizing){
          recognition.stop();
        }else{
          try { recognition.start(); } catch(_){}
        }
      });
    }else{
      // Hide mic if not supported
      micBtn.style.display = 'none';
    }*/

    
    
     // ✅ Check browser support
  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
  let recognition;

  if (SpeechRecognition) {
    recognition = new SpeechRecognition();
    recognition.lang = "en-US";
    recognition.interimResults = false;
    recognition.maxAlternatives = 1;

    recognition.onstart = () => {
      console.log("🎤 Mic recording started...");
      
    };

    recognition.onerror = (event) => {
      console.error("Speech recognition error:", event.error);
      if (event.error === "not-allowed") {
        alert("❌ Please allow microphone access in your browser settings.");
      } else {
        alert("⚠️ Speech recognition error: " + event.error);
      }
    };

    recognition.onresult = (event) => {
      const transcript = event.results[0][0].transcript;
      console.log("Transcript:", transcript);
      input.value = transcript;
      // ✅ auto-send after recording
      send();
    };

    recognition.onend = () => {
      console.log("🎤 Mic recording stopped.");
    };

    // ✅ Single click to start recognition
    micBtn.addEventListener("click", () => {
      try {
        recognition.start();
      } catch (e) {
        console.warn("Recognition already started.");
      }
    });

  } else {
    alert("🚫 Your browser does not support Speech Recognition.");
    micBtn.disabled = true;
  }

    /* Welcome on load
    window.addEventListener('load', ()=>{
      addMsg("Hi! I'm KAMP Assistant. I'm here to help you. You can ask me anything regarding the KAMP website.\n\nWebsite: https://kamp.org.in", 'bot');
      renderCategories(); // show category buttons just below welcome msg
      input.focus();
    });*/

    /* WhatsApp button click
    document.getElementById('whatsappBtn').addEventListener('click', () => {
      window.open('https://wa.me/919717435123', '_blank'); 
    });*/
  </script>
  
</body>
</html>





